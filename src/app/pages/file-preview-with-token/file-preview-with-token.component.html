<div *ngIf="hasPassword && !previewUrl">
    <div class="flex items-center justify-center min-h-screen bg-gray-100">
      <nz-card nzTitle="Protected File" [nzBordered]="false" style="width: 300px;">
        
        <nz-input-group class="mb-3" [nzSuffix]="suffixTemplate">
          <input
            [type]="passwordVisible ? 'text' : 'password'"
            nz-input
            placeholder="Enter file password"
            [(ngModel)]="password"
            [disabled]="isLoading"
          />
        </nz-input-group>
  
        <ng-template #suffixTemplate>
          <nz-icon
            class="ant-input-password-icon"
            [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
            (click)="passwordVisible = !passwordVisible"
          />
        </ng-template>
  
        <div class="mt-3">
          <button
            style="width: 100%;"
            nz-button
            nzType="primary"
            [nzLoading]="isLoading"
            [disabled]="!password"
            (click)="onSubmitPassword()"
          >
            Submit Password
          </button>
        </div>
  
      </nz-card>
    </div>
</div>

<iframe *ngIf="previewUrl" [src]="previewUrl" width="100%" height="100%"></iframe>

<div *ngIf="messageError" class="flex items-center justify-center min-h-screen bg-gray-100">
    <nz-card [nzBodyStyle]="{ textAlign: 'center' }">
        <div class="flex flex-col items-center">
            <nz-icon nzType="lock" nzTheme="outline" class="text-5xl text-blue-500 mb-4" />
            <h3 class="text-lg font-semibold text-gray-800 mb-1">Access Restricted</h3>
            <p class="text-sm text-gray-500 mb-4">
                The file canâ€™t be viewed because:
            </p>
            <nz-alert nzType="error" [nzMessage]="messageError" nzShowIcon class="w-full"></nz-alert>
        </div>
    </nz-card>
</div>
